if(!require(Rcpp)) install.packages('Rcpp')
try(remove.packages("spsurv", lib="~/R/x86_64-pc-linux-gnu-library/3.6"),
silent = T)
try(roxygen2::roxygenize(clean = T), silent = T)
pkgbuild::compile_dll()
devtools::document()
devtools::install()
source('~/Documents/spsurv/script/load.R', echo=TRUE)
library(spsurv)
data("veteran") ## imports from survival package
coxph(Surv(time, status) ~ karno + factor(celltype),
data = veteran)
spbp(Surv(time, status) ~ karno + factor(celltype),
data = veteran, approach =  "bayes", chains = 1, iter = 1000)
spbp(Surv(time, status) ~ karno + factor(celltype),
data = veteran, approach =  "mle", model = "ph")
print(fit)
spbp(Surv(time, status) ~ karno + factor(celltype),
data = veteran, approach =  "mle", model = "ph")
devtools::load_all(".")
devtools::build()
data("veteran") ## imports from survival package
coxph(Surv(time, status) ~ karno + factor(celltype),
data = veteran)
spbp(Surv(time, status) ~ karno + factor(celltype),
data = veteran, approach =  "bayes", chains = 1, iter = 1000)
spbp(Surv(time, status) ~ karno + factor(celltype),
data = veteran, approach =  "mle", model = "ph")
fit <- spbp(Surv(time, status) ~ karno + factor(celltype),
data = veteran, approach =  "mle", model = "ph")
fit$coefficients
devtools::load_all(".")
setwd("~/Documents/spsurv")
if(!require(roxygen2)) install.packages('roxygen2')
if(!require(rstan)) install.packages('rstan')
if(!require(pkgbuild)) install.packages('pkgbuild')
if(!require(rstantools)) install.packages('rstantools')
if(!require(Rcpp)) install.packages('Rcpp')
try(remove.packages("spsurv", lib="~/R/x86_64-pc-linux-gnu-library/3.6"),
silent = T)
try(roxygen2::roxygenize(clean = T), silent = T)
pkgbuild::compile_dll()
devtools::document()
devtools::install()
devtools::load_all(".")
devtools::build()
?spsurv
library(spsurv)
data("veteran") ## imports from survival package
coxph(Surv(time, status) ~ karno + factor(celltype),
data = veteran)
spbp(Surv(time, status) ~ karno + factor(celltype),
data = veteran, approach =  "bayes", chains = 1, iter = 1000)
fit <- spbp(Surv(time, status) ~ karno + factor(celltype),
data = veteran, approach =  "mle", model = "ph")
fit$aux
length(fit$aux)
length(fit$aux)-4
length(fit$aux)-4
len <- length(fit$aux)
len
len - 4
len <- length(fit$aux)fit$aux[len]
fit$aux[len]
names(fit$aux)
"beta" %in% names(fit$aux)
names(fit$aux) %in% "beta"
q = 4
names(fit$aux) %in% paste("beta[", q, "]")
paste("beta[", q, "]")
paste0("beta[", 1:q, "]")
names(fit$aux) %in% paste0("beta[", 1:q, "]")
names(fit$aux) %in% c(paste0("beta[", 1:q, "]"), paste0("beta[", 1:degree, "]"))
degree = 12
names(fit$aux) %in% c(paste0("beta[", 1:q, "]"), paste0("beta[", 1:degree, "]"))
fit$aux[names(fit$aux) %in% c(paste0("beta[", 1:q, "]"), paste0("beta[", 1:degree, "]"))]
fit$aux[names(fit$aux) %in% c(paste0("beta[", 1:q, "]"), paste0("gamma[", 1:degree, "]"))]
devtools::load_all(".")
devtools::build()
data("veteran") ## imports from survival package
coxph(Surv(time, status) ~ karno + factor(celltype),
data = veteran)
spbp(Surv(time, status) ~ karno + factor(celltype),
data = veteran, approach =  "bayes", chains = 1, iter = 1000)
fit <- spbp(Surv(time, status) ~ karno + factor(celltype),
data = veteran, approach =  "mle", model = "ph")
len <- length(fit$aux)
q = 4
degree = 12
names(fit$aux) %in% c(paste0("beta[", 1:q, "]"), paste0("beta[", 1:degree, "]"))
fit$aux[names(fit$aux) %in% c(paste0("beta[", 1:q, "]"), paste0("gamma[", 1:degree, "]"))]
fit <- spbp(Surv(time, status) ~ karno + factor(celltype),
data = veteran, approach =  "mle", model = "ph")
devtools::load_all(".")
fit <- spbp(Surv(time, status) ~ karno + factor(celltype),
data = veteran, approach =  "mle", model = "ph")
fit$aux
fit$coefficients
summary(fit)
data("veteran") ## imports from survival package
coxph(Surv(time, status) ~ karno + factor(celltype),
data = veteran)
spbp(Surv(time, status) ~ karno + factor(celltype),
data = veteran, approach =  "mle", model = "ph")
sim_surv(n = 100)
spbp(Surv(time, status) ~ karno + factor(celltype),
data = sim_surv(n = 100), approach =  "mle", model = "ph")
sim_surv(n = 100)
spbp(Surv(y, status) ~ x1 + x2,
data = sim_surv(n = 100), approach =  "mle", model = "ph")
survreg(Surv(time, status) ~ karno + factor(celltype),
data = veteran, dist = "weibull")
View(veteran)
survreg(Surv(time, status) ~ karno + factor(celltype),
data = sim_surv(n = 100), dist = "weibull")
survreg(Surv(y, status) ~ x1 + x2,
data = sim_surv(n = 100), dist = "weibull")
survreg(Surv(y, status) ~ x1 + x2,
data = sim_surv(n = 100), dist = "weibull")
rweibull()
?rweibull()
spbp(Surv(y, status) ~ x1 + x2,
data = sim_surv(n = 100), approach =  "mle", model = "ph")
survreg(Surv(y, status) ~ x1 + x2,
data = sim_surv(n = 100), dist = "weibull")
spbp(Surv(y, status) ~ x1 + x2,
data = sim_surv(n = 100), approach =  "mle", model = "ph")
spbp(Surv(y, status) ~ x1 + x2,
data = sim_surv(n = 100), approach =  "mle", model = "aft")
spbp(Surv(y, status) ~ x1 + x2,
data = sim_surv(n = 1000), approach =  "mle", model = "aft")
spbp(Surv(y, status) ~ x1 + x2,
data = sim_surv(n = 200), approach =  "mle", model = "aft")
spbp(Surv(y, status) ~ x1 + x2,
data = sim_surv(n = 200), approach =  "mle", model = "ph")
sim_surv(n = 200)
dt <- sim_surv(n = 200)
?km()
survfit(Survt(y, status)~1, data = dt)
survfit(Surv(y, status)~1, data = dt)
ekm <- survfit(Surv(y, status)~1, data = dt)
rm(ekm)
kme <- survfit(Surv(y, status)~1, data = dt)
plot(kme)
plot(kme)
plot(kme)
dt
head(dt)
kme <- survfit(Surv(y, status)~1, data = dt)
plot(kme)
spbp(Surv(y, status) ~ x1 + x2,
data = sim_surv(n = 200), approach =  "mle", model = "ph")
plot(kme)
head(dt)
mean(dt$status)
survreg(Surv(y, status)~ x1 + x2, data = dt)
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit$coefficients
fit$coefficients[-1]
fit$coefficients[-1] * - 1/fit$scale
fit$coefficients[-1] * - 1/fit$scale
fit$scale
fit$coefficients[-1] * - 1/.5
spbp(Surv(y, status) ~ x1 + x2,
data = dt, approach =  "mle", model = "aft")
bpaft <- spbp(Surv(y, status) ~ x1 + x2,
data = dt, approach =  "mle", model = "aft")
bpaft$return_code
bpaft
bpaft$coefficients
bpaft$coefficients[1:2]*-1/.5
bpaft <- spbp(Surv(y, status) ~ x1 + x2,
data = dt, approach =  "mle", model = "aft")
spbp(Surv(time, status) ~ karno + factor(celltype),
data = dt, approach =  "bayes", model = "aft", cores = 7)
spbp(Surv(y, status) ~ x1 + x2,
data = dt, approach =  "bayes", model = "aft", cores = 7)
dt <- sim_surv(n = 200, dist = "llogis")
dt <- sim_surv(n = 200, scaleC = .5 , dist = "llogis")
dt <- sim_surv(n = 200, scaleC = 5 , dist = "llogis")
sim_surv(n = 200, scaleC = 5 , dist = "llogis")
dt <- ?sim_surv(n = 200, scaleC = 5 , dist = "llogis")
?sim_surv(n = 200, scaleC = 5 , dist = "llogis")
?sim_surv(n = 200, scaleC = 5 , dist = "llogis")
dt <- sim_surv(n = 200, scaleC = 40, dist = "llogis")
dt <- sim_surv(n = 200, scaleC = 42, dist = "llogis")
dt <- sim_surv(n = 200, scaleC = 42, model = "po",
dist = "llogis")
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, scaleC = 42, model = "aft",
dist = "llogis")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
dt <- sim_surv(n = 200, model = "aft")
fit <- survreg(Surv(y, status)~ x1 + x2, data = dt)
fit
setwd("~/Documents/spsurv")
getwd()
source('~/Documents/spsurv/script/load.R', echo=TRUE)
?survivor
